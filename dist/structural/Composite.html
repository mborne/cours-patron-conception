<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Composite</title>
    <link type="text/css" rel="stylesheet" href="../assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="../assets/css/hljs-github.min.css"/>
  </head>
  <body>
    <article class="markdown-body"><h1 id="composite"><a class="header-link" href="#composite"></a>Composite</h1>
<h2 id="probl-me"><a class="header-link" href="#probl-me"></a>Problème</h2>
<p>On manipule un arbre. On souhaite appeler une opération sans faire
la distinction entre les noeuds porteurs d&#39;enfants et les feuilles.</p>
<h2 id="solution"><a class="header-link" href="#solution"></a>Solution</h2>
<p><img src="uml/UML_Composite.png" alt="UML Composite">
Source <a href="https://en.wikipedia.org/wiki/Composite_pattern"><a href="https://en.wikipedia.org/wiki/Composite_pattern">https://en.wikipedia.org/wiki/Composite_pattern</a></a></p>
<h2 id="exemple"><a class="header-link" href="#exemple"></a>Exemple</h2>
<p>Dans un éditeur vectoriel, on manipule des formes (Shape) primitives (Circle, Square, etc.) et
des groupes de formes (CompositeShape).</p>
<p>On souhaite unifier le rendu.</p>
<pre class="hljs"><code><span class="hljs-keyword">interface</span> <span class="hljs-title">Shape</span> {

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>;

}</code></pre><pre class="hljs"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Shape</span> </span>{
    <span class="hljs-comment">//center, radius    </span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">render</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"Rendu du cercle"</span>);
    }
}</code></pre><pre class="hljs"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CompositeShape</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Shape</span> </span>{

    <span class="hljs-keyword">protected</span> List&lt;Shape&gt; children = <span class="hljs-keyword">new</span> ArrayList&lt;Shape&gt;();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(Shape child)</span></span>{
        <span class="hljs-keyword">this</span>.children.add(child);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(Shape child)</span></span>{
        <span class="hljs-keyword">this</span>.children.remove(child);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">render</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"Rendu du groupe de forme"</span>);
        <span class="hljs-keyword">for</span> ( Shape child : children ){
            child.render();
        }
    }
}</code></pre>    </article>
  </body>
</html>
